<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
<body>

<div id="tflDiv"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>
    $(function () {

        var processUrl = function (url) {
            if (url.length >= 4 && url.slice(0, 4) === "/tfl") {
                return 'http://www.tfl.gov.uk' + url;
            };
            return url;
        };


    $.ajax("http://www.tfl.gov.uk/tfl/syndication/feeds/serviceboard-fullscreen.htm", {
        cache: false,
        dataType:"html",
        success: function(data, textStatus, jqXHR) {
            $("#tflDiv").html(data);
	            $('#tflDiv a').each(function () {
                $(this).attr("href", processUrl($(this).attr("href")));
            });
        },
    });


//        $("#tflDiv").load("http://www.tfl.gov.uk/tfl/syndication/feeds/serviceboard-fullscreen.htm", function() {
//            $('#tflDiv a').each(function () {
//                $(this).attr("href", processUrl($(this).attr("href")));
//            });
//        });
    });

</script>
</body>
</html>